.contents.body
  = render partial: 'items/frame_upper'
  .purchase__content__main
    .purchase__content__main__boxes
      %section.registration
        %h2.title 支払い方法
      = form_with do |f|
        .registration__box
          %section.registration.new
            .user__info__box.card__sizing
              .card__info
                %label.subtitle カード番号
                %span.mandatory 必須
              .text__field__style
                .input--area
                  -# サーバーサイドでクレジット会社ごとの正規表現を入力し番号及び付属記号の入力のみとする
                  = f.text_field :card_number, placeholder: "半角数字のみ", autocomplete: "off", maxlength: "19", class: "text__field", onInput: "value = value.replace(/[^0-9]+/,'');"
              = image_tag 'card_logo/visa.svg', alt: 'visa'
              = image_tag 'card_logo/mastercard.svg', alt: 'mastercard'
              = image_tag 'card_logo/saison.svg', alt: 'saison'
              = image_tag 'card_logo/jcb.svg', alt: 'jcb'
              = image_tag 'card_logo/american_express.svg', alt: 'american_express'
              = image_tag 'card_logo/dinersclub.svg', alt: 'dinersclub'
              = image_tag 'card_logo/discover.svg', alt: 'discover'
            .user__info__box
              .card__info
                %label.subtitle 有効期限
                %span.mandatory 必須
              .expiration__date
                .select__box__date
                  .select__box__date__form
                    != sprintf(f.date_select(:expiration_date, order: [:month, :year, :day], use_month_numbers: true, discard_year: true, discard_day: true))
                %span.month 月
                .select__box__date
                  .select__box__date__form
                    != sprintf(f.date_select(:expiration_date, order: [:month, :year, :day], use_year_numbers: true, discard_month: true, discard_day: true, start_year:Time.now.year-2000, end_year:Time.now.year-2000+10))
                %span.year 年
            .user__info__box
              .card__info
                %label.subtitle セキュリティコード
                %span.mandatory 必須
              .text__field__style
                .input--area
                  = f.text_field :card_number, placeholder: "カード背面4桁もしくは3桁の番号", autocomplete: "off", maxlength: "4", class: "text__field", onInput: "value = value.replace(/[^0-9]+/,'');"
          %section.registration.new
            .enter
              %button.enter__permit__box.btn 登録する
              = link_to "もどる", "/credit_cards" , class:'return' 
  = render partial: 'items/frame_bottom'